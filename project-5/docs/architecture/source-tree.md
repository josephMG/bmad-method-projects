# Source Tree Structure for BMad-FamilyExpenseTracker

This document outlines the recommended source tree structure and conventions for the `BMad-FamilyExpenseTracker` Flutter project. A consistent and modular structure enhances maintainability, scalability, and developer collaboration.

## 1. Top-Level Project Structure

The project will follow a standard Flutter project layout, with key directories:

```
family_expense_tracker/
├── .dart_tool/          # Generated by Flutter
├── .idea/               # IDE configuration
├── android/             # Android specific files
├── ios/                 # iOS specific files
├── lib/                 # **Application source code**
├── linux/               # Linux specific files
├── macos/               # macOS specific files
├── test/                # Unit and widget tests
├── web/                 # Web specific files
├── windows/             # Windows specific files
├── pubspec.yaml         # Project dependencies and metadata
├── pubspec.lock         # Exact versions of dependencies
├── README.md            # Project overview
└── ...
```

## 2. `lib/` Directory Structure

The `lib/` directory will house the main application source code, organized into a modular and feature-driven structure. This promotes separation of concerns and makes it easier to locate and manage code.

```
lib/
├── main.dart            # Main entry point of the application
├── app.dart             # Root widget, theme, routing setup
├── core/                # Core utilities, constants, extensions, base classes
│   ├── constants/       # Application-wide constants
│   ├── errors/          # Custom error classes and exception handling
│   ├── extensions/      # Dart/Flutter extensions
│   ├── utils/           # General utility functions
│   └── widgets/         # Reusable generic widgets
├── data/                # Data layer: repositories, data sources, models
│   ├── models/          # Data models (e.g., Expense, Category)
│   ├── repositories/    # Abstract interfaces for data operations
│   └── datasources/     # Implementations of data sources (e.g., GoogleSheetsApiDataSource)
├── domain/              # Business logic: use cases, entities
│   ├── entities/        # Core business objects
│   └── usecases/        # Application-specific business rules
├── features/            # Feature-driven organization (e.g., authentication, expenses, categories)
│   ├── authentication/  # Google OAuth integration, user management
│   │   ├── data/
│   │   ├── domain/
│   │   └── presentation/
│   ├── expenses/        # Expense listing, adding, editing, deleting
│   │   ├── data/
│   │   ├── domain/
│   │   └── presentation/
│   └── categories/      # Category management
│       ├── data/
│       ├── domain/
│       └── presentation/
├── presentation/        # UI layer: widgets, pages, state management
│   ├── pages/           # Top-level screens/pages
│   ├── widgets/         # Reusable UI components specific to features
│   └── providers/       # Riverpod/Provider definitions for global state
└── services/            # External services (e.g., Google Sheets API client, notification service)
    ├── google_sheets_service.dart
    └── auth_service.dart
```

## 3. Testing Directory (`test/`)

*   **Unit Tests:** Located in `test/unit/` or alongside the code they test (e.g., `lib/data/models/expense_test.dart`).
*   **Widget Tests:** Located in `test/widget/` or within the `presentation` layer's `test` subfolder.
*   **Integration Tests:** Located in `test/integration/`.

## 4. Assets (`assets/`)

*   Images, fonts, and other assets will be stored in an `assets/` directory at the project root, with subdirectories for organization (e.g., `assets/images/`, `assets/icons/`).

## 5. Documentation (`docs/`)

*   Project documentation, including PRDs, architecture documents, and other relevant information, will reside in the `docs/` directory.
